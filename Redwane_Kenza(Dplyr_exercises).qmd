---
title: "Dplyr (Exercises)"
author: "Kenza Redwane"
format: 
  html:
    code-fold: true
---

## Elementary Operations

### Exercise 1

```{r}
#| message: false
#| cache: true
here::i_am("git-101-2024/bank.csv")
library(here)
library(dplyr)
```
Question 1: Print the name of the variables
```{r}
library(readr)
bank <- read_delim("/Users/macbookpro/Desktop/Master/Semester One/Data Management and Programming/git-101-2024/bank.csv", ";")
names(bank)  

```

Question 2: Print the dimensions of data table
```{r}
dim(bank)
```

Question 3: Print a summaryof data tabke
```{r}
summary(bank)
```
ðŸ’¡ One of the limitations of this summary is that it doesn't provide us detailed statistical informations about the variables. One of the main issues of it is that having individual elements is not very intuitive.Indeed, it doesn't give us any information about relations between variables (covaariance / correlations). In addition to that, summary output is very limited,it doesn't give us preview about p-value neither statistical test.

## Filtering,  selecting and extracting

### Exercise 2:

Question 1: Extract clients of the bank that are at least 50 years old.
```{r}
bank %>% filter(age>50)
```

Question 2: Print the number of clients who are married and have a secondary level of education.
```{r}
married_secondary<-bank %>%
  filter(marital=='married' & education == 'secondary')
nrow(married_secondary)
```

Question 3:  Print the summary of the subset of clients that are at most 25 and are single or have a tertiary level of education.
```{r}
single <-bank %>%
  filter(age > 25, marital == 'single' & education=='tertiary')
summary(single)
```

### Exercise 3: (Selecting)

Question 1: Compare the results
```{r}
bank %>% select(age) %>% summary()
```
```{r}
bank %>% pull(age) %>% summary()
```
ðŸ’¡ It's the same output that contains same informations, the only difference is that select is vertical which means we are extracting a column and pull returns the content as a simple vector (horizontal)


Question 2: Print a summary of the bank data including only numerical variables.
```{r}
bank %>% select_if(is.numeric) %>% summary()
```

Question 3: Print the median age of the married clients.

```{r}
bank %>% select(marital, age) %>%
  filter(marital== 'married') %>% 
  summarise(median_age=median(age,na.rm = TRUE))

```


## Creating variables

### Exercise 2:

Question 1: Extract clients of the bank that are at least 50 years old.
```{r}